/* Pruned legacy design tokens in favor of Owllocate semantic variables */

/**
 * Envelopes Typography System
 */
@layer base {
  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) {
    .text-display {
      font-size: var(--text-display);
      line-height: var(--text-display-lh);
      font-weight: var(--font-weight-medium);
    }

    h1,
    .text-h1 {
      font-size: var(--text-h1);
      line-height: var(--text-h1-lh);
      font-weight: var(--font-weight-medium);
    }

    h2,
    .text-h2 {
      font-size: var(--text-h2);
      line-height: var(--text-h2-lh);
      font-weight: var(--font-weight-medium);
    }

    h3 {
      font-size: var(--text-lg);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h4 {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    p,
    .text-body {
      font-size: var(--text-body);
      line-height: var(--text-body-lh);
      font-weight: var(--font-weight-normal);
    }

    .text-caption {
      font-size: var(--text-caption);
      line-height: var(--text-caption-lh);
      font-weight: var(--font-weight-normal);
    }

    .text-mono {
      font-size: var(--text-mono);
      line-height: var(--text-mono-lh);
      font-weight: var(--font-weight-normal);
      font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
    }

    label {
      font-size: var(--text-body);
      font-weight: var(--font-weight-medium);
      line-height: var(--text-body-lh);
    }

    button {
      font-size: var(--text-body);
      font-weight: var(--font-weight-medium);
      line-height: var(--text-body-lh);
    }

    input {
      font-size: var(--text-body);
      font-weight: var(--font-weight-normal);
      line-height: var(--text-body-lh);
    }
  }
}

/* Base app surface + typography color driven by semantic vars */
body {
  background: var(--owl-bg);
  color: var(--owl-text-primary);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  transition: background-color .3s ease, color .3s ease;
}

/* Provide consistent default colors for unstyled text elements */
h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--owl-text-primary);
}

p,
span,
small,
li,
dt,
dd {
  color: inherit;
}

a {
  color: var(--owl-accent);
  text-decoration: none;
}

a:hover {
  color: var(--owl-accent-hover);
  text-decoration: underline;
}

/* Logo specific treatment for contrast subtlety */
img.logo-light {
  filter: drop-shadow(0 1px 1px rgba(0, 0, 0, .25));
}

img.logo-dark {
  filter: drop-shadow(0 1px 1px rgba(255, 255, 255, .08));
}

img[data-theme-logo] {
  image-rendering: -webkit-optimize-contrast;
}

/* High contrast focus outlines relying on focus ring token */
*:focus-visible {
  outline: 2px solid var(--owl-focus-ring);
  outline-offset: 2px;
}

/* Text secondary utility (fallback if component forgot explicit class) */
.text-secondary {
  color: var(--owl-text-secondary);
}

/* Selection colors adapt to theme */
::selection {
  background: var(--owl-accent);
  color: var(--owl-accent-fg);
}

/* Base font sizing optional (removed legacy var references) */

/* Owllocate semantic token fallbacks (single source of truth) */
:root:not([data-theme='dark']) {
  --owl-bg: #FFFFFF;
  --owl-surface: #F5F7FA;
  --owl-surface-alt: #FFFFFF;
  --owl-text-primary: #0E1A2B;
  --owl-text-secondary: #3F4A5F;
  --owl-border: #CAD2DB;
  --owl-accent: #45D0C7;
  /* teal500 */
  --owl-accent-fg: #0B1423;
  /* navy900 */
  --owl-accent-hover: #37C7BC;
  /* teal600 */
  --owl-success: #16A34A;
  --owl-warning: #D97706;
  --owl-error: #DC2626;
  --owl-focus-ring: #228E86;
  /* teal800 */
  /* ------------------------------------------------------------------ */
  /* Legacy design token bridge (neutrals & brand) -> new semantic vars */
  /* This allows old components still referencing --color-* tokens to    */
  /* automatically adapt to the active theme without manual refactors.   */
  --color-brand-primary: var(--owl-accent);
  --color-brand-primary-hover: var(--owl-accent-hover);
  --color-neutral-900: var(--owl-text-primary);
  --color-neutral-800: var(--owl-text-primary);
  --color-neutral-700: var(--owl-text-secondary);
  --color-neutral-600: var(--owl-text-secondary);
  --color-neutral-500: var(--owl-text-secondary);
  --color-neutral-400: var(--owl-border);
  --color-neutral-300: var(--owl-border);
  --color-neutral-200: var(--owl-border);
  --color-neutral-100: var(--owl-surface-alt);
  --color-neutral-50: var(--owl-surface);
  --color-success: var(--owl-success);
  --color-warning: var(--owl-warning);
  --color-danger: var(--owl-error);
}

[data-theme='dark'] {
  --owl-bg: #0E1A2B;
  --owl-surface: #122239;
  --owl-surface-alt: #19304C;
  --owl-text-primary: #FFFFFF;
  --owl-text-secondary: #A9B5C3;
  --owl-border: #19304C;
  --owl-accent: #45D0C7;
  --owl-accent-fg: #FFFFFF;
  --owl-accent-hover: #8EEAE1;
  --owl-success: #22C55E;
  --owl-warning: #F59E0B;
  --owl-error: #EF4444;
  --owl-focus-ring: #68DCD4;
  /* Legacy token bridge (see light theme block for rationale) */
  --color-brand-primary: var(--owl-accent);
  --color-brand-primary-hover: var(--owl-accent-hover);
  --color-neutral-900: var(--owl-text-primary);
  --color-neutral-800: var(--owl-text-primary);
  --color-neutral-700: var(--owl-text-secondary);
  --color-neutral-600: var(--owl-text-secondary);
  --color-neutral-500: var(--owl-text-secondary);
  --color-neutral-400: var(--owl-border);
  --color-neutral-300: var(--owl-border);
  --color-neutral-200: var(--owl-border);
  --color-neutral-100: var(--owl-surface-alt);
  --color-neutral-50: var(--owl-surface);
  --color-success: var(--owl-success);
  --color-warning: var(--owl-warning);
  --color-danger: var(--owl-error);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) {
    --owl-bg: #0E1A2B;
    --owl-surface: #122239;
    --owl-surface-alt: #19304C;
    --owl-text-primary: #FFFFFF;
    --owl-text-secondary: #A9B5C3;
    --owl-border: #19304C;
    --owl-accent: #45D0C7;
    --owl-accent-fg: #FFFFFF;
    --owl-accent-hover: #8EEAE1;
    --owl-success: #22C55E;
    --owl-warning: #F59E0B;
    --owl-error: #EF4444;
    --owl-focus-ring: #68DCD4;
  }
}

/* Mobile-first responsive breakpoints */
@media (min-width: 768px) {
  html {
    font-size: 16px;
    /* Slightly larger on desktop */
  }
}

/* Touch target compliance - minimum 44px */
.touch-target {
  min-height: 44px;
  min-width: 44px;
}